unsigned char _15_querylog_sql[1106] = {
"create function sys.querylog_catalog()\n"
"returns table(\n"
"	id oid,\n"
"	owner string,\n"
"	defined timestamp,\n"
"	query string,\n"
"	pipe string,\n"
"	\"plan\" string,\n"
"	mal int,\n"
"	optimize bigint\n"
")\n"
"external name sql.querylog_catalog;\n"
"create function sys.querylog_calls()\n"
"returns table(\n"
"	id oid,\n"
"	\"start\" timestamp,\n"
"	\"stop\" timestamp,\n"
"	arguments string,\n"
"	tuples bigint,\n"
"	run bigint,\n"
"	ship bigint,\n"
"	cpu int,\n"
"	io int\n"
")\n"
"external name sql.querylog_calls;\n"
"create view sys.querylog_catalog as select * from sys.querylog_catalog();\n"
"create view sys.querylog_calls as select * from sys.querylog_calls();\n"
"create view sys.querylog_history as\n"
"select qd.*, ql.\"start\",ql.\"stop\", ql.arguments, ql.tuples, ql.run, ql.ship, ql.cpu, ql.io\n"
"from sys.querylog_catalog() qd, sys.querylog_calls() ql\n"
"where qd.id = ql.id and qd.owner = user;\n"
"create procedure sys.querylog_empty()\n"
"external name sql.querylog_empty;\n"
"create procedure sys.querylog_enable()\n"
"external name sql.querylog_enable;\n"
"create procedure sys.querylog_enable(threshold integer)\n"
"external name sql.querylog_enable;\n"
"create procedure sys.querylog_disable()\n"
"external name sql.querylog_disable;\n"
};
#include "monetdb_config.h"
#include "sql_import.h"
#ifdef _MSC_VER
#undef read
#pragma section(".CRT$XCU",read)
#endif
LIB_STARTUP_FUNC(init_15_querylog_sql)
{ sql_register("15_querylog", _15_querylog_sql); }
